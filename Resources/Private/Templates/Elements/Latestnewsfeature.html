{namespace aw=Ferenckrausz\Attoworld\ViewHelpers}
<div class="plugin-latestnewsfeature">
    
    <!--<h1>Latest News</h1><-->
    
    <div class="listing clearfix">
        <f:for each="{news}" as="newsitem" iteration="newsIterator">
            <f:if condition="{newsIterator.cycle} == 3">
                <f:then><div class="news-item <f:if condition="{newsIterator.cycle} % 3"><f:then>row-element</f:then></f:if> <f:if condition="{newsIterator.cycle} > 6"><f:then>hidden</f:then></f:if>">
                    <div class="special-box">
                        <div class="content">

                            <div class="title">In the Press</div>

                            <ul class="listing">
                                <f:for each="{po}" as="entry" iteration="PoIterator">
                                    <li>
                                         <div class="title"><f:format.crop maxCharacters="25" append="&nbsp;…">{entry.model.title}</f:format.crop></div>
                                         <div class="info"><span class="type">{entry.model.type}:</span> <f:if condition="{entry.model.journal}"><f:then><span class="magazin">{entry.model.journal}</span>, </f:then></f:if><span class="date"><aw:Datumformat integer="{entry.model.pubtstamp}" format="F j, Y"/></span></div>
                                    </li>
                                </f:for>
                            </ul>

                            <div class="readmore hoverText">
                                <f:link.page pageUid="88" additionalParams="{tx_attoworld_pi18 : {uid : '{newsitem.uid}'}}">More</f:link.page>
                            </div>
                        </div>
                    </div>
                </div><div data-uid="{newsitem.uid}" class="news-item hoverText row-element <f:if condition="{newsIterator.cycle} > 6"><f:then>hidden</f:then></f:if>">

                    <f:if condition="{newsitem.pressrelease}">
                        <f:then>
                            <f:link.page pageUid="89" additionalParams="{tx_attoworld_pi18 : {uid : '{newsitem.uid}'}}">
                                <f:if condition="{newsitem.image}">
                                    <f:then>
                                        <div class="picture">
                                            <f:image src="{newsitem.image}" width="413c" height="249c" />
                                        </div>
                                    </f:then>
                                </f:if>
                                <div class="content">
                                    <div class="date"><aw:Datumformat integer="{newsitem.pubdate}" format="F j, Y"/></div>
                                    <div class="title">{newsitem.title}</div>
                                    <div class="content">
                                        <span class="firstletters">press release —</span> <f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…">{newsitem.bodytext}</f:format.crop></f:format.html>
                                    </div>
                                </div>
                            </f:link.page>
                        </f:then>
                        <f:else>
                            <f:link.page pageUid="98" additionalParams="{tx_attoworld_pi21 : {uid : '{newsitem.uid}'}}">
                                <f:if condition="{newsitem.image}">
                                    <f:then>
                                        <div class="picture">
                                            <f:image src="{newsitem.image}" width="413c" height="249c" />
                                        </div>
                                    </f:then>
                                </f:if>
                                <div class="content">
                                    <div class="date"><aw:Datumformat integer="{newsitem.pubdate}" format="F j, Y"/></div>
                                    <div class="title"><aw:Newstext string="{newsitem.title}"/></div>
                                    <div class="content">

                                        <f:if condition="{newsitem.isscientific}==0">
                                            <f:then>
                                                <span class="firstletters">team —</span> <f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html>
                                            </f:then>
                                            <f:else>
                                                <f:if condition="{newsitem.isscientific}==1">
                                                    <f:then>
                                                        <span class="firstletters">research —</span> <f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html>
                                                    </f:then>
                                                    <f:else>
                                                        <f:if condition="{newsitem.isscientific}==2">
                                                            <f:then>
                                                                <span class="firstletters">graduate —</span> <f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html>
                                                            </f:then>
                                                            <f:else>
                                                                <f:if condition="{newsitem.isscientific}==3">
                                                                    <f:then>
                                                                        <span class="firstletters">pressrelease —</span>
                                                                    </f:then>
                                                                    <f:else>
                                                                        <f:if condition="{newsitem.isscientific}==4">
                                                                            <f:then>
                                                                                <span class="firstletters">unknown —</span>
                                                                            </f:then>
                                                                            <f:else>

                                                                            </f:else>
                                                                        </f:if>
                                                                    </f:else>
                                                                </f:if>
                                                            </f:else>
                                                        </f:if>
                                                    </f:else>
                                                </f:if>
                                            </f:else>
                                        </f:if>
                                    </div>
                                </div>
                            </f:link.page>
                        </f:else>
                    </f:if>
                </div>
                
                </f:then>
                <f:else>
                    <f:if condition="{newsIterator.cycle}>3">
                        <f:then>
                            <div data-uid="{newsitem.uid}" class="news-item hoverText <f:if condition="<f:cObject typoscriptObjectPath='lib.math' data='{newsIterator.cycle}+1' /> % 3"><f:then>row-element</f:then></f:if> <f:if condition="{newsIterator.cycle} > 5"><f:then>hidden</f:then></f:if>">
                                <f:if condition="{newsitem.pressrelease}">
                                    <f:then>
                                        <f:link.page pageUid="89" additionalParams="{tx_attoworld_pi18 : {uid : '{newsitem.uid}'}}">
                                            <f:if condition="{newsitem.image}">
                                                <f:then>
                                                    <div class="picture">
                                                        <f:image src="{newsitem.image}" width="413c" height="249c" />
                                                    </div>
                                                </f:then>
                                            </f:if>
                                            <div class="content">
                                                <div class="date"><aw:Datumformat integer="{newsitem.pubdate}" format="F j, Y"/></div>
                                                <div class="title">{newsitem.title}</div>
                                                <div class="content">
                                                    <span class="firstletters">press release —</span> <f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…">{newsitem.bodytext}</f:format.crop></f:format.html>
                                                </div>
                                            </div>
                                        </f:link.page>
                                    </f:then>
                                    <f:else>
                                        <f:link.page pageUid="98" additionalParams="{tx_attoworld_pi21 : {uid : '{newsitem.uid}'}}">
                                            <f:if condition="{newsitem.image}">
                                                <f:then>
                                                    <div class="picture">

                                                        <f:image src="{newsitem.image}" width="413c" height="249c" />
                                                    </div>
                                                </f:then>
                                            </f:if>
                                            
                                            <div class="content">
                                                <div class="date"><aw:Datumformat integer="{newsitem.pubdate}" format="F j, Y"/></div>
                                                <div class="title"><aw:Newstext string="{newsitem.title}"/></div>
                                                <div class="content">

                                                    <f:if condition="{newsitem.isscientific}==0">
                                                        <f:then>
                                                            <span class="firstletters">team —</span> <f:format.stripTags><f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html></f:format.stripTags>
                                                        </f:then>
                                                        <f:else>
                                                            <f:if condition="{newsitem.isscientific}==1">
                                                                <f:then>
                                                                    <span class="firstletters">research —</span> <f:format.stripTags><f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html></f:format.stripTags>
                                                                </f:then>
                                                                <f:else>
                                                                    <f:if condition="{newsitem.isscientific}==2">
                                                                        <f:then>
                                                                            <span class="firstletters">graduate —</span> <f:format.stripTags><f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html></f:format.stripTags>
                                                                        </f:then>
                                                                        <f:else>
                                                                            <f:if condition="{newsitem.isscientific}==3">
                                                                                <f:then>
                                                                                    <span class="firstletters">pressrelease —</span>
                                                                                </f:then>
                                                                                <f:else>
                                                                                    <f:if condition="{newsitem.isscientific}==4">
                                                                                        <f:then>
                                                                                            <span class="firstletters">unknown —</span>
                                                                                        </f:then>
                                                                                        <f:else>

                                                                                        </f:else>
                                                                                    </f:if>
                                                                                </f:else>
                                                                            </f:if>
                                                                        </f:else>
                                                                    </f:if>
                                                                </f:else>
                                                            </f:if>
                                                        </f:else>
                                                    </f:if>
                                                </div>
                                            </div>
                                        </f:link.page>
                                    </f:else>
                                </f:if>
                            </div>
                        </f:then>
                        <f:else>
                            <div data-uid="{newsitem.uid}" class="news-item hoverText <f:if condition="<f:cObject typoscriptObjectPath='lib.math' data='{newsIterator.cycle}' /> % 3"><f:then>row-element</f:then></f:if> <f:if condition="{newsIterator.cycle} > 6"><f:then>hidden</f:then></f:if>">
                                <f:if condition="{newsitem.pressrelease}">
                                    <f:then>
                                        <f:link.page pageUid="89" additionalParams="{tx_attoworld_pi18 : {uid : '{newsitem.uid}'}}">
                                            <f:if condition="{newsitem.image}">
                                                <f:then>
                                                    <div class="picture">
                                                        <f:image src="{newsitem.image}" width="413c" height="249c" />
                                                    </div>
                                                </f:then>
                                            </f:if>
                                            <div class="content">
                                                <div class="date"><aw:Datumformat integer="{newsitem.pubdate}" format="F j, Y"/></div>
                                                <div class="title">{newsitem.title}</div>
                                                <div class="content">
                                                    <span class="firstletters">press release —</span> <f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…">{newsitem.bodytext}</f:format.crop></f:format.html>
                                                </div>
                                            </div>
                                        </f:link.page>
                                    </f:then>
                                    <f:else>
                                        <f:link.page pageUid="98" additionalParams="{tx_attoworld_pi21 : {uid : '{newsitem.uid}'}}">
                                            <f:if condition="{newsitem.image}">
                                                <f:then>
                                                    <div class="picture">
                                                        <f:image src="{newsitem.image}" width="413c" height="249c" />
                                                    </div>
                                                </f:then>
                                            </f:if>
                                            <div class="content">
                                                <div class="date"><aw:Datumformat integer="{newsitem.pubdate}" format="F j, Y"/></div>
                                                <div class="title"><aw:Newstext string="{newsitem.title}"/></div>
                                                <div class="content">

                                                    <f:if condition="{newsitem.isscientific}==0">
                                                        <f:then>
                                                            <span class="firstletters">team —</span> <f:format.stripTags><f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html></f:format.stripTags>
                                                        </f:then>
                                                        <f:else>
                                                            <f:if condition="{newsitem.isscientific}==1">
                                                                <f:then>
                                                                    <span class="firstletters">research —</span> <f:format.stripTags><f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html></f:format.stripTags>
                                                                </f:then>
                                                                <f:else>
                                                                    <f:if condition="{newsitem.isscientific}==2">
                                                                        <f:then>
                                                                            <span class="firstletters">graduate —</span> <f:format.stripTags><f:format.html parseFuncTSPath=""><f:format.crop maxCharacters="100" append="&nbsp;…"><aw:Newstext string="{newsitem.fulltexten}"/></f:format.crop></f:format.html></f:format.stripTags>
                                                                        </f:then>
                                                                        <f:else>
                                                                            <f:if condition="{newsitem.isscientific}==3">
                                                                                <f:then>
                                                                                    <span class="firstletters">pressrelease —</span>
                                                                                </f:then>
                                                                                <f:else>
                                                                                    <f:if condition="{newsitem.isscientific}==4">
                                                                                        <f:then>
                                                                                            <span class="firstletters">unknown —</span>
                                                                                        </f:then>
                                                                                        <f:else>

                                                                                        </f:else>
                                                                                    </f:if>
                                                                                </f:else>
                                                                            </f:if>
                                                                        </f:else>
                                                                    </f:if>
                                                                </f:else>
                                                            </f:if>
                                                        </f:else>
                                                    </f:if>
                                                </div>
                                            </div>
                                        </f:link.page>
                                    </f:else>
                                </f:if>
                            </div>
                        </f:else>
                    </f:if>
                    
                    
                    
                </f:else>
            </f:if>
                
            
        </f:for>
    </div>
    
    <div class="show-more-button hoverText"><button class="test">Show More</button></div>
    
</div>